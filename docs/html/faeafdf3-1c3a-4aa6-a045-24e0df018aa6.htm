<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Redis Adapter</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="faeafdf3-1c3a-4aa6-a045-24e0df018aa6" /><meta name="Description" content="Redis Adapter, SecretNest.RemoteHub.RedisAdapter, is a library contains adapter of Remote Hub based on Redis database." /><meta name="Microsoft.Help.ContentType" content="How To" /><meta name="BrandingAware" content="true" /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-3.3.1.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Remote Hub<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html\bd0fe8b6-fbbe-46a6-a55a-9de5c0d0cff9.htm" title="Remote Hub" tocid="roottoc">Remote Hub</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/3d44d1cd-5d0c-4c89-bedd-49830a60baec.htm" title="Components" tocid="a4713fa9-dad1-4fa6-bc55-ac50724a6b7b">Components</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/3d44d1cd-5d0c-4c89-bedd-49830a60baec.htm" title="Interfaces of Remote Hub" tocid="3d44d1cd-5d0c-4c89-bedd-49830a60baec">Interfaces of Remote Hub</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/7b9f6faa-8de5-4097-bad0-76e9295ccce0.htm" title="Interfaces of Remote Hub on Redis database" tocid="7b9f6faa-8de5-4097-bad0-76e9295ccce0">Interfaces of Remote Hub on Redis database</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/ed44485b-adff-46f1-9be9-d5731e1d4ff4.htm" title="Interfaces of Remote Hub on streams" tocid="ed44485b-adff-46f1-9be9-d5731e1d4ff4">Interfaces of Remote Hub on streams</a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="../html/faeafdf3-1c3a-4aa6-a045-24e0df018aa6.htm" title="Redis Adapter" tocid="faeafdf3-1c3a-4aa6-a045-24e0df018aa6">Redis Adapter</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/40f09325-9850-497d-afb6-0b8b90d8360a.htm" title="Redis Client" tocid="40f09325-9850-497d-afb6-0b8b90d8360a">Redis Client</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/a635f111-aa6b-4609-bec8-d954ac988f47.htm" title="Stream Adapter" tocid="a635f111-aa6b-4609-bec8-d954ac988f47">Stream Adapter</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/91b09d21-87ae-4bc8-9efe-4f446b05cd3e.htm" title="Stream Client" tocid="91b09d21-87ae-4bc8-9efe-4f446b05cd3e">Stream Client</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/0241d550-bee5-4690-b22b-3399ba7a7bf1.htm" title="Switch Direct Client" tocid="0241d550-bee5-4690-b22b-3399ba7a7bf1">Switch Direct Client</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/754f0327-c190-40b4-b091-93e104cc78be.htm" title="Switch" tocid="754f0327-c190-40b4-b091-93e104cc78be">Switch</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="logoColumn"><img src="../icons/Help.png" /></td><td class="titleColumn"><h1>Redis Adapter</h1></td></tr></table><span class="introStyle"></span> <div class="introduction"><p>Redis Adapter, SecretNest.RemoteHub.RedisAdapter, is a library contains adapter of Remote Hub based on Redis database.</p></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Use this library</span></div><div id="ID0RBSection" class="collapsibleSection"><p>This library defines the adapter for connecting to Redis database, named as <a href="8333780b-98bd-a2a0-dc70-269bf12eebf5.htm">RedisAdapter<span id="LST95DD9354_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST95DD9354_0?cs=&lt;|vb=(Of |cpp=&lt;|nu=(|fs=&lt;'");</script>T<span id="LST95DD9354_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST95DD9354_1?cs=&gt;|vb=)|cpp=&gt;|nu=)|fs=&gt;");</script></a>, which implemented <a href="a15b69cb-99f4-bf37-b706-b84514586881.htm">IRemoteHubRedisAdapter<span id="LST95DD9354_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST95DD9354_2?cs=&lt;|vb=(Of |cpp=&lt;|nu=(|fs=&lt;'");</script>T<span id="LST95DD9354_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST95DD9354_3?cs=&gt;|vb=)|cpp=&gt;|nu=)|fs=&gt;");</script></a>.</p><p>Publish-subscribe service is used on the Redis database specified while constructing an instance of this adapter. No data in this database will be queried or changed.</p><p>Creating an instance of this adapter and attaching it to one switch will link the target Redis database to the switch. This will allow all clients from the Redis database and the switch to discover each other and transport message among them.</p><p>Redis Client, SecretNest.RemoteHub.Redis, will contains an instance of this adapter. But the adapter is constructed and controlled by client. It's not necessary for user to create the instance of adapter for the client.</p></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Type parameter</span></div><div id="ID1RBSection" class="collapsibleSection"><p>Type parameter of Redis Adapter is used for sending and receiving user messages.</p><p>Currently, only byte array (byte[] in C#.Net / Byte() in VB.Net) and string are acceptable. Passing other type while creating while cause an exception thrown.</p><p>Using different type parameters or encoders on adapters created on the same Redis database is acceptable. For example, if one side is set as string and one other is using byte array, the text sent from the 1st one will be received by the 2nd as the encoded output. The encoding format is specified by Redis.</p><p>The type is applied on the user messages only. System messages, like those for client discovering, will not be affected.</p></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Callback</span></div><div id="ID2RBSection" class="collapsibleSection"><p>One or more instance of <a href="34bcb308-4b25-bdde-70cf-02bf8a1625b8.htm">OnMessageReceivedCallback<span id="LST95DD9354_4"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST95DD9354_4?cs=&lt;|vb=(Of |cpp=&lt;|nu=(|fs=&lt;'");</script>T<span id="LST95DD9354_5"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST95DD9354_5?cs=&gt;|vb=)|cpp=&gt;|nu=)|fs=&gt;");</script></a> need to be prepared for receiving user messages. Type of the delegate is the same as the type parameter passed into the Redis Adapter.</p><p>The callback instance can to be passed as an argument of the constructor of Redis Adapter, or set it as null for leaving it not initialized.</p><p>Use method <a href="c72077de-6209-4f82-f4a1-bc6ea3e8d01b.htm">AddOnMessageReceivedCallback</a> and <a href="a94500cc-a474-b04a-87c5-8dc225a7669b.htm">RemoveOnMessageReceivedCallback</a> to add or remove the callback instance after the adapter constructed.</p></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Adapter</span></div><div id="ID3RBSection" class="collapsibleSection"><p>Adapter is a component for Remote Hub which handle the communication on the particular medium.</p><p>Adapter instance will: </p><ul><li><p>Announce the local client to the medium;</p></li><li><p>Listen to the changes of the remote clients from the medium;</p></li><li><p>Send message to the medium;</p></li><li><p>Receive message, which the target is one of the registered local clients, from the medium; and,</p></li><li><p>Maintain virtual host table.</p></li></ul><p>As Redis Adapter, the medium is a Redis database. All functions are based on the publish-subscribe service provided from the Redis database specified while instance constructing.</p></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID4RB')" onkeypress="SectionExpandCollapse_CheckKey('ID4RB', event)" tabindex="0"><img id="ID4RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID4RBSection" class="collapsibleSection"><h4 class="subHeading">Other Resources</h4><div class="seeAlsoStyle"><a href="3d44d1cd-5d0c-4c89-bedd-49830a60baec.htm">Interfaces of Remote Hub</a></div><div class="seeAlsoStyle"><a href="7b9f6faa-8de5-4097-bad0-76e9295ccce0.htm">Interfaces of Remote Hub on Redis database</a></div><div class="seeAlsoStyle"><a href="e84b359f-4609-429c-8b3f-d040a75ceae6.htm">Using Redis database</a></div><div class="seeAlsoStyle"><a href="40f09325-9850-497d-afb6-0b8b90d8360a.htm">Redis Client</a></div></div></div></div><div id="pageFooter" class="pageFooter" /></body></html>