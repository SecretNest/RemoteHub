<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Using streams</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="fb014e2d-05c2-4da2-9ed3-0032564a7ae0" /><meta name="Description" content="Remote Hub can use streams as the medium to connect clients." /><meta name="Microsoft.Help.ContentType" content="How To" /><meta name="BrandingAware" content="true" /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-3.3.1.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Remote Hub<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/bd0fe8b6-fbbe-46a6-a55a-9de5c0d0cff9.htm" title="Remote Hub" tocid="roottoc">Remote Hub</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/e84b359f-4609-429c-8b3f-d040a75ceae6.htm" title="How to" tocid="4bbf037e-cfd8-432b-816b-134a63b328c2">How to</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/e84b359f-4609-429c-8b3f-d040a75ceae6.htm" title="Using Redis database" tocid="e84b359f-4609-429c-8b3f-d040a75ceae6">Using Redis database</a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="../html/fb014e2d-05c2-4da2-9ed3-0032564a7ae0.htm" title="Using streams" tocid="fb014e2d-05c2-4da2-9ed3-0032564a7ae0">Using streams</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/a4d42f22-c78d-4f4c-8fe4-d9568ea2f5ca.htm" title="Virtual host" tocid="a4d42f22-c78d-4f4c-8fe4-d9568ea2f5ca">Virtual host</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="logoColumn"><img src="../icons/Help.png" /></td><td class="titleColumn"><h1>Using streams</h1></td></tr></table><span class="introStyle"></span> <div class="introduction"><p>Remote Hub can use streams as the medium to connect clients.</p></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Use streams</span></div><div id="ID0RBSection" class="collapsibleSection"><p>Stream Adapter is the adapter designed by using streams as the medium to connect another instance of Stream Adapter.</p><p>Unlike Redis Adapter, due to streams have only 2 ends, instances of Stream Adapter work in pairs. Two instances of Stream Adapter connected by the same streams transport messages between them.</p><p>While constructing an instance of Stream Adapter, 2 streams are required, one for reading and another for writing. If the stream supports two way communicating, like NetworkStream, it can be used by passing the same stream twice for input stream and the output one.</p><p>The streams prepared for Stream Adapter should allow block reading. Stream Adapter uses BinaryReader to read data from the input stream.</p><p>When the stream for input is closed, the Stream Adapter will detect the state change, stop working and raise the <a href="aedc4b18-cc32-2a34-46d6-5091f96cc577.htm">ConnectionErrorOccurred</a>. Also, other code can monitor the streams used and stop the adapter when necessary.</p></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Use Stream Clients in pairs</span></div><div id="ID1RBSection" class="collapsibleSection"><p><div class="mediaCenter"><img alt="Stream" src="../media/Stream.jpg" /></div></p><p>In the solution above, 2 Stream clients are connected by the same streams. They can transport messages between them.</p></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Connect multiple Stream Clients using Switch</span></div><div id="ID2RBSection" class="collapsibleSection"><p>When more than 2 clients need to be connected together, instances of Switch should be placed for routing messages.</p><p>While using Switch, adapters handle the communication over mediums should be attached to it. For example, while using streams, one side of the streams is connected to the Stream Client for operating in the user code block, as well as the other side should be connected to a Stream Adapter which will be attached to the switch.</p><p><div class="mediaCenter"><img alt="Switch" src="../media/Switch.jpg" /></div></p><p>In the solution above, 3 Stream clients are connected to the same switch. They can transport messages among them.</p></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Switch networking</span></div><div id="ID3RBSection" class="collapsibleSection"><p>Switches can be cascaded. Using a pair of Stream Adapter and the streams as the medium, two switches can be combined.</p><p>By attaching an instance of Redis Adapter, all clients connected to the target Redis database will also be found and reachable in the switch networking.</p><p><div class="mediaCenter"><img alt="Networking" src="../media/Networking.jpg" /></div></p><p>In the solution above, 2 Redis clients, 3 Stream clients and the Switch Direct client are connected to the same network. Then can transport messages among them.</p><p>Switch Direct client is a special client which can be attached to switch directly and expose the client side methods and events for user code block. See <a href="0241d550-bee5-4690-b22b-3399ba7a7bf1.htm">Switch Direct Client</a> for details.</p></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID4RB')" onkeypress="SectionExpandCollapse_CheckKey('ID4RB', event)" tabindex="0"><img id="ID4RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Security</span></div><div id="ID4RBSection" class="collapsibleSection"><p>Due to no data encrypting or authentication is handled by Remote Hub, while using streams in an open area, like Internet, user need to take care about network security.</p><p>Using SslStream over underlying network stream is an easy and recommended way for encrypting. For authenticating, the certificate of SslStream will help a lot. Also, adding an authenticating phase before passing the stream to Stream Adapters is an acceptable solution too.</p></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID5RB')" onkeypress="SectionExpandCollapse_CheckKey('ID5RB', event)" tabindex="0"><img id="ID5RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID5RBSection" class="collapsibleSection"><h4 class="subHeading">Other Resources</h4><div class="seeAlsoStyle"><a href="7b9f6faa-8de5-4097-bad0-76e9295ccce0.htm">Interfaces of Remote Hub on Redis database</a></div><div class="seeAlsoStyle"><a href="faeafdf3-1c3a-4aa6-a045-24e0df018aa6.htm">Redis Adapter</a></div><div class="seeAlsoStyle"><a href="40f09325-9850-497d-afb6-0b8b90d8360a.htm">Redis Client</a></div><div class="seeAlsoStyle"><a href="a635f111-aa6b-4609-bec8-d954ac988f47.htm">Stream Adapter</a></div><div class="seeAlsoStyle"><a href="91b09d21-87ae-4bc8-9efe-4f446b05cd3e.htm">Stream Client</a></div><div class="seeAlsoStyle"><a href="754f0327-c190-40b4-b091-93e104cc78be.htm">Switch</a></div><div class="seeAlsoStyle"><a href="0241d550-bee5-4690-b22b-3399ba7a7bf1.htm">Switch Direct Client</a></div><div class="seeAlsoStyle"><a href="e84b359f-4609-429c-8b3f-d040a75ceae6.htm">Using Redis database</a></div></div></div></div><div id="pageFooter" class="pageFooter" /></body></html>